import random

#create range of possible integers

def launch_game(new_game = False):
    
    while True:
        options = range(1,11)
    
        #player selects number
        try:
            player_choice = int(input("Select a number from 1 to 10 > "))
        except ValueError:
            print("That's not a valid number. Try again, bruh.")
            continue
        
        if player_choice not in options:
            print("That number isn't in the required range.")
            continue
    
        #initialize max range variables and comp_choice
        max_int = 11
        min_int = 1
        comp_choice = 0
        number_of_rounds = 1
    
        print("Type 'higher' if the computer's guess is too low, or 'lower' if the computer's guess is too high.")
        input("Hit any key to continue.")
    
        while comp_choice != player_choice:
        
            #computer selects number
            options = range(min_int, max_int)
            comp_choice = random.choice(options)
            if comp_choice == player_choice:
                break
        
            #player is presented with computer number, tells the computer either higher or lower
            player_guidance = input("The computer guessed {}. 'higher' or 'lower'?\n".format(comp_choice)).strip(' ')
            while player_guidance != 'higher' and player_guidance != 'lower':
                print("Not a valid instruction. You must write either 'higher' or 'lower'.")
                continue
            
            while player_guidance == 'higher' or player_guidance == 'lower':
                if (comp_choice > player_choice and player_guidance == 'higher') or (comp_choice < player_choice and player_guidance == 'lower'):
                    print("That's not true! You have to give fair instructions.")
                    player_guidance = str.lower(input('Higher or lower? > '))
                    continue
                else:
                    break
          
        
            if player_guidance == 'lower':
                max_int = comp_choice
                number_of_rounds += 1
                continue
            elif player_guidance == 'higher':
                min_int = comp_choice + 1
                number_of_rounds += 1
                continue
    
        #game ends when computer guesses player's number
        if comp_choice == 1:
            print("The computer guessed {}. Your number was {}, so after {} round, the game is over.".format(comp_choice, player_choice, number_of_rounds))
        else:    
            print("The computer guessed {}. Your number was {}, so after {} rounds, the game is over.".format(comp_choice, player_choice, number_of_rounds))
        print("Game over.")
        play_again = str.lower(input("Do you want to play again? Hit 'y' for yes. Any other key will end the game. > "))
        if play_again == 'y':
            launch_game(True)
        break
    if new_game == False:    
        print("Bye!")
launch_game()
